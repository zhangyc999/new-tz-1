# t_core()

```c
void                /* 无返回值 */
t_core(             /* 主任务 */
        int period  /* 任务运行周期 */
)
```

```graphTB
st((开始))-->开机自检
开机自检-->loop[主循环]
loop-->延时
延时-->a{强制操作供电单元}
a--YES-->b{至少一条总线负载率过高}
a--NO-->500V及24V自动断电处理
500V及24V自动断电处理-->b
b--YES-->挂起所有伺服任务
b--NO-->c{收到UDP命令}
挂起所有伺服任务-->loop
c--YES-->确认操作对象
c--NO-->loop
确认操作对象-->d{非伺服对象}
d--YES-->发送命令到子任务
d--NO-->e{一组伺服对象}
发送命令到子任务-->loop
e--YES-->f{相应任务被挂起}
e--NO-->g{所有伺服对象}
f--YES-->h{已经添加过节点}
f--NO-->发送命令到子任务
h--YES-->启动任务
h--NO-->添加节点
启动任务-->发送命令到子任务
添加节点-->loop
g--YES-->i{相应任务被挂起}
g--NO-->loop
i--YES-->loop
i--NO-->发送命令到子任务
```


# 函数定义

## void t_core(int period) {}

### 局部变量定义
| 序号 | 变量名 | 说明 |
| :-: | :-: | :- |
| 1 | recv | 接收任务ID和各子任务地址 |
| 2 | send | 发送任务ID和各子任务地址 |
| 3 | swh0 | 左前横展 |
| 4 | swh1 | 左后横展 |
| 5 | swh2 | 右后横展 |
| 6 | swh3 | 右前横展 |
| 7 | swv0 | 左前俯仰 |
| 8 | swv1 | 左后俯仰 |
| 9 | swv2 | 右后俯仰 |
| 10 | swv3 | 右前俯仰 |
| 11 | prp0 | 左前垂直 |
| 12 | prp1 | 左后垂直 |
| 13 | prp2 | 右后垂直 |
| 14 | prp3 | 右前垂直 |
| 15 | x0 | 前纵移 |
| 16 | x1 | 后纵移 |
| 17 | y0 | 前外横移 |
| 18 | y1 | 前内横移 |
| 19 | y2 | 后内横移 |
| 20 | y3 | 后外横移 |
| 21 | z0 | 前卷杨 |
| 22 | z1 | 后卷杨 |
| 23 | shdf0 | 左前外端帘 |
| 24 | shdf1 | 左前内端帘 |
| 25 | shdf2 | 右前内端帘 |
| 26 | shdf3 | 右前外端帘 |
| 27 | shdb0 | 左后外端帘 |
| 28 | shdb1 | 左后内端帘 |
| 29 | shdb2 | 右后内端帘 |
| 30 | shdb3 | 右后外端帘 |
| 31 | shds0 | 左前侧帘 |
| 32 | shds1 | 左后侧帘 |
| 33 | shds2 | 右后侧帘 |
| 34 | shds3 | 右前侧帘 |
| 35 | shdt | 纵展 |
| 36 | mom0 | 左前恒力矩 |
| 37 | mom1 | 左后恒力矩 |
| 38 | mom2 | 右后恒力矩 |
| 39 | mom3 | 右前恒力矩 |

###函数调用
| 序号 | 函数名 | 说明 |
| :-: | :-: | :- |
| 1 | taskIdSelf | _库函数：得到调用任务的ID_ |
| 2 | taskResume | _库函数：恢复任务_ |
| 3 | taskSuspend | _库函数：任务挂起_ |
| 4 | memset | _库函数：内存空间初始化_ |
| 5 | msgQSend | _库函数：发送消息队列_ |
